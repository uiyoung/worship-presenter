{% extends 'layout.html' %} {% block content %}

<div class="container-xxl mt-4">
  <div class="row justify-content-center">
    <!-- set list -->
    <div class="col-lg-4 my-2">
      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-between mb-3">
            <h5 class="card-title">선택된 곡</h5>
            <button type="button" class="btn btn-danger btn-sm" id="clear-button">비우기</button>
          </div>

          <ol class="list-group gap-2" id="setlist" style="max-height: 516px; overflow: auto"></ol>
        </div>

        <div class="card-footer text-center">
          <button type="button" class="btn btn-success w-75" id="generate-btn" disabled>PPT 다운로드</button>
          <button
            type="button"
            class="btn btn-outline-secondary w-auto"
            data-bs-toggle="modal"
            data-bs-target="#settingsModal"
            disabled
          >
            ⚙️
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-8 my-2">
      <div class="card">
        <div class="card-header">
          <ul class="nav nav-pills card-header-pills">
            <li class="nav-item">
              <a class="nav-link active" href="#" data-bs-toggle="pill" data-bs-target="#pills-lyrics">가사</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-bs-toggle="pill" data-bs-target="#pills-bible">성경</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-bs-toggle="pill" data-bs-target="#pills-responsive-reading">교독문</a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#" data-bs-toggle="pill" data-bs-target="#pills-text">텍스트</a>
            </li>
          </ul>
        </div>

        <div class="card-body">
          <!-- lyrics search tab-->
          <div class="tab-content" id="pills-tabContent">
            <div
              class="tab-pane fade show active"
              id="pills-lyrics"
              role="tabpanel"
              aria-labelledby="pills-lyrics-tab"
              tabindex="0"
            >
              <div class="d-flex justify-content-end mb-3">
                {% if user %}
                <button class="btn btn-primary btn-sm" type="button" id="new-button">새로 등록하기</button>
                {% else %}
                <button class="btn btn-primary btn-sm" type="button" onclick="location.href='/auth/login'">
                  새로 등록하기
                </button>
                {% endif %}
              </div>

              <div class="input-group my-3">
                <div class="col-auto">
                  <label class="visually-hidden" for="specificSizeSelect">Preference</label>
                  <select class="form-select" id="specificSizeSelect">
                    <option value="title" selected="selected">제목</option>
                    <option value="lyrics" disabled>가사</option>
                  </select>
                </div>
                <input type="text" class="form-control" id="search-input" />
                <button class="btn btn-outline-primary" type="button" id="search-btn">검색</button>
              </div>

              <div class="text-center mb-2 text-body-secondary" id="search-info" hidden></div>

              <div class="table-responsive text-nowrap">
                <table class="table table-hover" id="search-table">
                  <thead class="table-warning">
                    <tr class="text-center">
                      <th style="width: 5%">#</th>
                      <th style="width: 5%">타입</th>
                      <th>제목</th>
                      <th style="width: 5%">선택</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>

              <nav aria-label="Page navigation">
                <ul class="pagination pagination-sm justify-content-center" id="search-pagination"></ul>
              </nav>
            </div>
            <!-- bible search tab-->
            <div class="tab-pane fade" id="pills-bible" role="tabpanel" aria-labelledby="pills-bible-tab" tabindex="0">
              Bible here
            </div>
            <!-- responsive reading search tab-->
            <div
              class="tab-pane fade"
              id="pills-responsive-reading"
              role="tabpanel"
              aria-labelledby="pills-responsive-reading-tab"
              tabindex="0"
            >
              <select
                class="form-select mb-3"
                id="responsive-reading-select"
                aria-label="Default select example"
              ></select>

              <div class="card">
                <div class="card-body" id="rr-card-body">
                  <p class="card-text text-center opacity-75">교독문을 선택해 주세요.</p>
                </div>
              </div>

              <!-- todo : new text slide tab-->
              <div class="tab-pane fade" id="pills-text" role="tabpanel" aria-labelledby="pills-text-tab" tabindex="0">
                text here
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- settings card -->
      <!-- <div class="col-xl-12 col-md-12 my-2">
      <div class="card">
        <div class="card-header">
          <ul class="nav nav-pills card-header-pills">
            <li class="nav-item">
              <a class="nav-link active" href="#">설정</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" disabled>preview</a>
            </li>
          </ul>
        </div>
        <div class="card-body">
          {#
          <h5 class="card-title">설정</h5>
          #}

          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <a href="https://hangeul.naver.com/font/nanum" target="_blank">나눔폰트 다운로드</a>
            </li>
            <li class="list-group-item">
              <input class="input" type="date" />
            </li>
          </ul>

          <div class="list-group">
            <label class="list-group-item d-flex gap-3">
              <input
                class="form-check-input flex-shrink-0"
                type="checkbox"
                value=""
                style="font-size: 1.375em"
                checked
                disabled
              />
              <span class="pt-1 form-checked-content">
                <strong>슬라이드에 제목 포함</strong>
                <small class="d-block text-body-secondary"> 각 슬라이드의 사이에 제목 슬라이드를 추가합니다. </small>
              </span>
            </label>
            <label class="list-group-item d-flex gap-3 bg-body-tertiary">
              <input
                class="form-check-input form-check-input-placeholder bg-body-tertiary flex-shrink-0 pe-none"
                disabled=""
                type="checkbox"
                value=""
                style="font-size: 1.375em"
              />
              <span class="pt-1 form-checked-content">
                <span contenteditable="true" class="w-100">Add new task...</span>
                <small class="d-block text-body-secondary"> Choose list... </small>
              </span>
            </label>
          </div>
        </div>
      </div>
    </div> -->
    </div>
  </div>

  <!-- song detail modal -->
  <div class="modal fade" id="songDetailModal" tabindex="-1" aria-labelledby="songDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <div class="d-flex align-items-center text-truncate">
            <h1 class="modal-title fs-5" id="songDetailModalLabel">New Song</h1>
            <button type="button" class="btn btn-sm btn-danger mx-3" id="song-delete-btn" hidden>삭제</button>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-6">
                <form>
                  <div class="mb-3">
                    <label for="modal-title" class="col-form-label">제목</label>
                    <input type="text" class="form-control" id="modal-title" />
                  </div>
                  <div class="mb-3">
                    <label for="modal-lyrics" class="col-form-label">가사</label>
                    <textarea class="form-control" id="modal-lyrics" rows="14"></textarea>
                  </div>
                </form>
              </div>
              <div class="col-lg-6">
                <div class="mb-3">
                  <input
                    type="radio"
                    class="btn-check"
                    name="song-type"
                    id="hymn-radio"
                    value="HYMN"
                    autocomplete="off"
                  />
                  <label class="btn btn-sm btn-outline-success" for="hymn-radio">찬송가</label>
                  <input
                    type="radio"
                    class="btn-check"
                    name="song-type"
                    id="ccm-radio"
                    value="CCM"
                    autocomplete="off"
                  />
                  <label class="btn btn-sm btn-outline-success" for="ccm-radio">CCM</label>
                </div>

                <div class="mb-3">
                  <label for="modal-memo" class="col-form-label">메모</label>
                  <textarea class="form-control" id="modal-memo" rows="1"></textarea>
                </div>
                <div class="mb-3">
                  <select
                    style="width: 30%; display: inline"
                    name="lines-per-slide"
                    class="form-select form-select-sm"
                    id="lines-per-slide"
                  >
                    <option value="1" disabled>1줄 씩</option>
                    <option value="2" selected="selected">2줄 씩</option>
                    <option value="3" disabled>3줄 씩</option>
                    <option value="4" disabled>4줄 씩</option>
                    <option value="5" disabled>5줄 씩</option>
                    <option value="6" disabled>6줄 씩</option>
                  </select>
                  <button
                    type="button"
                    class="btn btn-outline-primary btn-sm"
                    id="auto-align-btn"
                    onclick="autoAlign()"
                  >
                    정렬
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="modal-save-btn">저장</button>
          <button type="button" class="btn btn-primary" id="modal-modify-btn" hidden>수정</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- settings modal -->
  <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModal" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="songDetailModalLabel">New Song</h1>
          <button type="button" class="btn btn-sm btn-danger mx-3" id="song-delete-btn" hidden>삭제</button>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-6">
                <form>
                  <div class="mb-3">
                    <label for="modal-title" class="col-form-label">제목</label>
                    <input type="text" class="form-control" id="modal-title" />
                  </div>
                  <div class="mb-3">
                    <label for="modal-title" class="col-form-label">제목</label>
                    <input type="text" class="form-control" id="modal-title" />
                  </div>
                </form>
              </div>
              <div class="col-lg-6">
                <div class="mb-3"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="modal-save-btn">저장</button>
          <button type="button" class="btn btn-primary" id="modal-modify-btn" hidden>수정</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  {% endblock %} {% block script %}

  <script src="/js/presenter.js"></script>
  <script src="/js/responsive-reading.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js"></script>
  <script src="/js/generate-ppt.js"></script>

  {% endblock %}
</div>
